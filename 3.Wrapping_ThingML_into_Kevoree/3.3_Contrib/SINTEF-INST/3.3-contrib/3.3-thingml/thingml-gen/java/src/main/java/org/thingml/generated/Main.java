/**
 * File generated by the ThingML IDE
 * /!\Do not edit this file/!\
 * In case of a bug in the generated code,
 * please submit an issue on our GitHub
 **/

package org.thingml.generated;

import org.thingml.java.*;
import org.thingml.java.ext.*;

import org.thingml.generated.api.*;
import org.thingml.generated.messages.*;

import java.util.*;
public class Main {
//Things
public static TimerJava TimerJava_JavaPIF_timer3;
public static PIFEnder PIFEnder_JavaPIF_ender1;
public static JavaPrinter JavaPrinter_JavaPIF_printer;
public static PIFEnder PIFEnder_JavaPIF_ender2;
public static PIFStarter PIFStarter_JavaPIF_starter3;
public static PIFEnder PIFEnder_JavaPIF_ender3;
public static TimerJava TimerJava_JavaPIF_timer1;
public static PIFStarter PIFStarter_JavaPIF_starter2;
public static PIFStarter PIFStarter_JavaPIF_starter1;
public static TimerJava TimerJava_JavaPIF_timer2;
public static void main(String args[]) {
//Things
PIFStarter_JavaPIF_starter2 = (PIFStarter) new PIFStarter("JavaPIF_starter2: PIFStarter", (short)4000, (short)1, (short)2).buildBehavior();
TimerJava_JavaPIF_timer1 = (TimerJava) new TimerJava("JavaPIF_timer1: TimerJava", (Thread)null).buildBehavior();
PIFEnder_JavaPIF_ender3 = (PIFEnder) new PIFEnder("JavaPIF_ender3: PIFEnder", (short)3).buildBehavior();
PIFEnder_JavaPIF_ender2 = (PIFEnder) new PIFEnder("JavaPIF_ender2: PIFEnder", (short)2).buildBehavior();
JavaPrinter_JavaPIF_printer = (JavaPrinter) new JavaPrinter("JavaPIF_printer: JavaPrinter").buildBehavior();
PIFEnder_JavaPIF_ender1 = (PIFEnder) new PIFEnder("JavaPIF_ender1: PIFEnder", (short)1).buildBehavior();
PIFStarter_JavaPIF_starter3 = (PIFStarter) new PIFStarter("JavaPIF_starter3: PIFStarter", (short)5000, (short)1, (short)3).buildBehavior();
PIFStarter_JavaPIF_starter1 = (PIFStarter) new PIFStarter("JavaPIF_starter1: PIFStarter", (short)3000, (short)1, (short)1).buildBehavior();
TimerJava_JavaPIF_timer2 = (TimerJava) new TimerJava("JavaPIF_timer2: TimerJava", (Thread)null).buildBehavior();
TimerJava_JavaPIF_timer3 = (TimerJava) new TimerJava("JavaPIF_timer3: TimerJava", (Thread)null).buildBehavior();
//Connectors
new Connector(PIFStarter_JavaPIF_starter2.getTimer_port(), TimerJava_JavaPIF_timer2.getTimer_port(), PIFStarter_JavaPIF_starter2, TimerJava_JavaPIF_timer2);
new Connector(JavaPrinter_JavaPIF_printer.getPrint_port(), PIFEnder_JavaPIF_ender3.getPrint_port(), JavaPrinter_JavaPIF_printer, PIFEnder_JavaPIF_ender3);
new Connector(PIFStarter_JavaPIF_starter3.getTimer_port(), TimerJava_JavaPIF_timer3.getTimer_port(), PIFStarter_JavaPIF_starter3, TimerJava_JavaPIF_timer3);
new Connector(JavaPrinter_JavaPIF_printer.getPrint_port(), PIFEnder_JavaPIF_ender1.getPrint_port(), JavaPrinter_JavaPIF_printer, PIFEnder_JavaPIF_ender1);
new Connector(JavaPrinter_JavaPIF_printer.getPrint_port(), PIFStarter_JavaPIF_starter3.getPrint_port(), JavaPrinter_JavaPIF_printer, PIFStarter_JavaPIF_starter3);
new Connector(JavaPrinter_JavaPIF_printer.getPrint_port(), PIFStarter_JavaPIF_starter1.getPrint_port(), JavaPrinter_JavaPIF_printer, PIFStarter_JavaPIF_starter1);
new Connector(JavaPrinter_JavaPIF_printer.getPrint_port(), PIFEnder_JavaPIF_ender2.getPrint_port(), JavaPrinter_JavaPIF_printer, PIFEnder_JavaPIF_ender2);
new Connector(PIFStarter_JavaPIF_starter1.getTimer_port(), TimerJava_JavaPIF_timer1.getTimer_port(), PIFStarter_JavaPIF_starter1, TimerJava_JavaPIF_timer1);
new Connector(JavaPrinter_JavaPIF_printer.getPrint_port(), PIFStarter_JavaPIF_starter2.getPrint_port(), JavaPrinter_JavaPIF_printer, PIFStarter_JavaPIF_starter2);
//Starting Things
TimerJava_JavaPIF_timer3.init();
PIFStarter_JavaPIF_starter1.init();
PIFEnder_JavaPIF_ender3.init();
PIFStarter_JavaPIF_starter3.init();
PIFEnder_JavaPIF_ender2.init();
PIFEnder_JavaPIF_ender1.init();
JavaPrinter_JavaPIF_printer.init();
TimerJava_JavaPIF_timer2.init();
TimerJava_JavaPIF_timer1.init();
PIFStarter_JavaPIF_starter2.init();
TimerJava_JavaPIF_timer2.start();
TimerJava_JavaPIF_timer3.start();
PIFStarter_JavaPIF_starter3.start();
PIFEnder_JavaPIF_ender2.start();
PIFStarter_JavaPIF_starter1.start();
PIFEnder_JavaPIF_ender3.start();
JavaPrinter_JavaPIF_printer.start();
PIFStarter_JavaPIF_starter2.start();
TimerJava_JavaPIF_timer1.start();
PIFEnder_JavaPIF_ender1.start();
Runtime.getRuntime().addShutdownHook(new Thread() {
public void run() {
System.out.println("Terminating ThingML app...");PIFEnder_JavaPIF_ender1.stop();
PIFStarter_JavaPIF_starter2.stop();
TimerJava_JavaPIF_timer1.stop();
PIFEnder_JavaPIF_ender2.stop();
PIFEnder_JavaPIF_ender3.stop();
TimerJava_JavaPIF_timer3.stop();
TimerJava_JavaPIF_timer2.stop();
JavaPrinter_JavaPIF_printer.stop();
PIFStarter_JavaPIF_starter3.stop();
PIFStarter_JavaPIF_starter1.stop();
System.out.println("ThingML app terminated. RIP!");}
});

}
}
